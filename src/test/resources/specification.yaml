id: YAML contracted_provision_demo
criteria:
  - id: uc-active
    query: {benefits: {universal_credit:{status: "ACTIVE"}}}

  - id: intensive-workgroup
    query: {benefits: {universal_credit: {workgroup: "INTENSIVE"}}}

  - id: time-on-uc
    query: {benefits: {universal_credit: {duration_months: { $gte: 6}}}}

  - id: previous-provision
    query: {provision: {$elemMatch: {$nin: [restart,whp]}}}

criteriaGroups:
  - id: restart-criteriaGroup
    junction: AND
    criteria:
      - id: uc-active
      - id: intensive-workgroup
      - id: time-on-uc
      - id: bad-bernard-criterion
      - id: bernard-element
        query: {bernard: {$exists: false}}
